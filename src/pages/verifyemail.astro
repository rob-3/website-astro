---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<script defer>
const output = document.getElementById("output");
const params = new URLSearchParams(window.location.search);
const uuid = params.get("uuid");
if (uuid) {
  const { result } = await fetch(
    `https://email-worker.rob-3.workers.dev/verifyEmail?uuid=${uuid}`,
  );
  output.innerHTML = result;
}
</script>

<BaseLayout title="Verify your email">
  <div class="m-4 flex flex-col items-center sm:m-6">
    <main
      class="w-full rounded bg-slate-100 px-4 py-2 text-center sm:px-8 sm:py-6 md:max-w-3xl"
    >
      <div id="output"></div>
    </main>
  </div>
</BaseLayout>
